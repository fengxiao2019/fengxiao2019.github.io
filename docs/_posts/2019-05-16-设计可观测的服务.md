layout: post
title: "设计可观测的服务"
date: 2023-10-19 23:33:19 -0000

# 设计可观测的服务
应用程序部署到生产环境之后，如何得知应用程序当前的一个状态，例如：qps，资源的利用率，接口请求状态等，还希望能够提供一个快速定位问题的工具，当故障发生时能够帮助快速定位问题。
可以采用的设计模式：

 - 健康检查API：公开返回服务当前运行状态的API。
 - 日志聚合：记录服务活动并将日志写入集中式日志记录服务器，该服务器提供搜索告警。
 - 分布式跟踪：为每一个在服务之间跳转的外部请求分配唯一ID，并跟踪请求。
 - 异常跟踪：向异常跟踪服务报告异常，该异常跟踪服务可以对异常重复数据删除，向开发人员发出警报并跟踪异常的解决方案。
 - 应用程序指标：服务运维指标，将这些指标公开给指标服务器。
 - 审核日志记录：记录用户的操作。
 ## 使用健康检查API 接口
 ### 为什么需要做健康检查？
 ### 实现健康检查
 ### 调用健康检查
 
 ## 使用日志聚合模式
 ## 分布式跟踪
 ## 异常跟踪
 ## 应用程序指标
 ## 审核日志记录
 https://docs.microsoft.com/zh-CN/azure/architecture/best-practices/monitoring
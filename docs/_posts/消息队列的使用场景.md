# 消息队列的使用场景
## 场景1: 超高并发，超过服务端的吞吐量，同时又不想损失订单
    方案1: 直接扩容服务器，增加服务的吞吐量   
        - 优点 短平快，效果立竿见影
        - 缺点 资源浪费严重，流量低峰期服务器相对较闲
    方案2: 利用消息队列的存储功能，扭转业务处理流程
        优点 - 提升性能的同时，解决了方案1的资源浪费的问题
        缺点 - 用户需要容忍请求的排队处理

## 场景2: 程序间解耦合
    上下游系统通过消息队列解耦合
    优点 - 降低服务间的依赖，加快了开发、联调的速度
    例如模块间的依赖关系

## 场景3: 异步处理
请求的结果立即返回。请求实际执行的结果要等执行完之后告知用户。
以我们平台为例，业务执行完之后，需要完成以下动作：
1. 发送报告
2. 将执行结果发送给相关人员 - 钉钉同志

## 数据的最终一致性
这个场景是队列作为事件驱动架构中的一部分存在的。以我们平台中的使用场景为例，效能平台需要 做各种指标的计算，指标的数据来源于各个数据源的多个表，为了方便统计计算，需要进行数据同步，将源库中的数据同步到目标库中，数据表更记录会被推送到消息队列中，消费者服务消费消息，将变更的数据同步到目标库中，实现两边库的数据最终一致性。
最终一致性是由队列的特征保证的。
